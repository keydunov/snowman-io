language: ruby
rvm:
  - 2.1.3
before_install:
  - "npm config set spin false"
  - "npm install -g npm@^2"
install:
  - bundle install --jobs=3 --retry=3
  - pushd ui && npm install -g bower && popd
  - pushd ui && npm install && popd
  - pushd ui && bower install && popd
script:
  - bundle exec rspec
  - cd ui && ember test
services:
  - redis-server
  - mongodb
env:
  - REDIS_URL=redis://localhost:6379
  - MONGO_URL=mongodb://localhost:27017/db
